<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core" > 
  <h:head>
    	<h:outputStylesheet name="css/table-style.css"  />
  </h:head>
  <h:body>
  <div align="center">  	
    	<h1>Sweep Compares Report</h1>
    	
    	<h:form id="sweepStatusForm">
		<h:panelGrid columns="4">
			<h:panelGroup>
			<h:outputLabel value="Environment" />
				<h:selectOneMenu value="#{compareBean.environment}">
					<f:selectItem itemValue="prod_pta" itemLabel="Legacy Prod vs Cermack PTA" />
					<f:selectItem itemValue="prod_ptb" itemLabel="Legacy Prod vs Cermack PTB" />
					<f:selectItem itemValue="prod_c4z-pr-capnp-01" itemLabel="Legacy Prod vs Cermack Prod 01" />
					<f:selectItem itemValue="prod_m2z-pr-capnp-a1" itemLabel="Legacy Prod vs Mahwah Prod A1" />
					<f:selectItem itemValue="prod_m2z-pr-capnp-b1" itemLabel="Legacy Prod v Mahwah Prod B1" />
				</h:selectOneMenu>
			</h:panelGroup>
			<h:panelGroup>
			<h:outputLabel value="Area" />
				<h:selectOneMenu value="#{compareBean.area}">
					<f:selectItem itemValue="all" itemLabel="All" />
					<f:selectItem itemValue="Asia" itemLabel="Asia" />
					<f:selectItem itemValue="Canada" itemLabel="Canada" />
					<f:selectItem itemValue="Dataline" itemLabel="Dataline" />
					<f:selectItem itemValue="Europe" itemLabel="Europe" />
					<f:selectItem itemValue="Middle_East" itemLabel="Middle East" />
					<f:selectItem itemValue="Nasdaq_BB_And_OOTC_And_Mutual_Funds" itemLabel="NASDAQ BB and OOTC and Mutual Funds" />
					<f:selectItem itemValue="Native_NASDAQ" itemLabel="Native NASDAQ" />
					<f:selectItem itemValue="Native_NYAM" itemLabel="Native NYAM" />
					<f:selectItem itemValue="Oceania" itemLabel="Oceania" />
					<f:selectItem itemValue="Sigma" itemLabel="Sigma" />
					<f:selectItem itemValue="South_America" itemLabel="South America" />
					<f:selectItem itemValue="US_Indexes" itemLabel="US Indexes" />
					<f:selectItem itemValue="US_Mutual_Funds" itemLabel="US Mutual Funds" />
					<f:selectItem itemValue="US_NYSE_Bonds" itemLabel="US NYSE Bonds" />
				</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup>
			<h:outputLabel value="Status" />
				<h:selectOneMenu value="#{compareBean.status}">
					<f:selectItem itemValue="all" itemLabel="All" />
					<f:selectItem itemValue="pass" itemLabel="Pass" />
					<f:selectItem itemValue="fail" itemLabel="Fails" />
				</h:selectOneMenu>
			</h:panelGroup>
			<h:commandButton value="Generate Report" action="#{compareBean.getSweepStatusByServerAndRegion}"  />
		</h:panelGrid>
	</h:form>
	
	<h:outputText value = "#{compareBean.errorMessage}" rendered = "#compareBean.errorMessage != null" style="color:red;" />
    	<!--   p>Environment: <h:outputText value = "#{compareBean.environment}"></h:outputText></p>
    	<p>Area: <h:outputText value = "#{compareBean.area}"></h:outputText></p>
    	<p>Status: <h:outputText value = "#{compareBean.status}"></h:outputText></p -->
    	
 <c:if test="#{compareBean.sweepStatus != null}" >
    <h2>Compare Summary</h2>
    	
    	<h:outputText value = "#{compareBean.errorMessage}" rendered = "#compareBean.errorMessage != null" style="color:red;" />
    	
    		<h:dataTable value="#{compareBean.sweepStatus}" var="ss"
    			styleClass="order-table"
    			headerClass="order-table-header"
    			rowClasses="order-table-odd-row,order-table-even-row">

    			<h:column>
    				<!-- column header -->
    				<f:facet name="header">Sweep Name</f:facet>
    				<!-- row record -->
    				<h:outputLink value="#{ss.linkUrl}">#{ss.sweepName}</h:outputLink>
    			</h:column>
    			
    			<h:column>
    				<!-- column header -->
    				<f:facet name="header">Server Comparison</f:facet>
    				<!-- row record -->
    				<h:outputText value="#{ss.server}"></h:outputText>
    			</h:column>
    			
    			<h:column>
    				<!-- column header -->
    				<f:facet name="header">Region</f:facet>
    				<!-- row record -->
    				<h:outputText value="#{ss.region}"></h:outputText>
    			</h:column>
    			
    			<h:column>
    				<f:facet name="header">Status</f:facet>
    				<!--  h:outputText value="MMMMMMMMMM" style="#{ss.errorStatus ? 'color:green; background-color:green' : 'color:red; background-color: red'}"></h:outputText -->
    				<h:outputText value="MMMMMMMMMM" styleClass="#{ss.errorStatus ? 'pass' : 'fail'}"></h:outputText>
    			</h:column>
    		
    		</h:dataTable>
  </c:if>
  </div>  		
  	
    </h:body>
</html>